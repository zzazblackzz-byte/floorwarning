<!DOCTYPE html>
<html>
<head>
  <title>ESP32 Sensor Dashboard</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDUgxuK6XL6DZY8jNeYKsmvsd8XYuQ_GsY",
      databaseURL: "https://floor-df6a0-default-rtdb.asia-southeast1.firebasedatabase.app/"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    onValue(ref(db, "/sensor"), (snapshot) => {
      const data = snapshot.val();
      document.getElementById("distance").innerText = data?.ultrasonic?.distance + " cm";
      document.getElementById("flow").innerText = data?.flow?.flow_L_min + " L/min";
      document.getElementById("volume").innerText = data?.flow?.volume_L + " L";
    });
  </script>
</head>
<body style="font-family: Arial; text-align: center; margin-top: 50px;">
  <h2>ESP32 Sensor Dashboard</h2>
  <p><b>Khoảng cách:</b> <span id="distance">...</span></p>
  <p><b>Lưu lượng:</b> <span id="flow">...</span></p>
  <p><b>Thể tích:</b> <span id="volume">...</span></p>
</body>
</html>
